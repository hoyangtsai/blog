{"componentChunkName":"component---src-templates-blog-post-js","path":"/flexbox/","result":{"data":{"site":{"siteMetadata":{"title":"Traverse"}},"markdownRemark":{"id":"58dcea84-bf32-566c-98a7-e4b82e31d8fd","excerpt":"背景 flexible box 伸縮容器 在 caniuse 上已經有很高的支持度 為什麼要講 flexible box 而不是 flex box，因為其實 flexible box 經過好幾次的演進 從最初 2009 年的版本  和  的前綴屬性 到 2011 年的版本  和  的函數 到最新 201…","html":"<h2 id=\"背景\" style=\"position:relative;\"><a href=\"#%E8%83%8C%E6%99%AF\" aria-label=\"背景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>背景</h2>\n<p>flexible box 伸縮容器 在 caniuse 上已經有很高的支持度</p>\n<p>為什麼要講 flexible box 而不是 flex box，因為其實 flexible box 經過好幾次的演進</p>\n<!-- more -->\n<p>從最初 2009 年的版本 <code class=\"language-text\">display: box</code> 和 <code class=\"language-text\">box-{*}</code> 的前綴屬性</p>\n<p>到 2011 年的版本 <code class=\"language-text\">display: flexbox</code> 和 <code class=\"language-text\">flex()</code> 的函數</p>\n<p>到最新 2012年 修訂的 CR 版本 <code class=\"language-text\">display: flex</code> 和 <code class=\"language-text\">flex-{*}</code> 的前綴屬性</p>\n<p>但是 flexible box 最新的版本在 iOS 9 以下和 Android 4.4 以下相容性並不好</p>\n<p>反而是 2011 年的版本在 iOS 7 - 8 和 Android 4 - 4.3 各種平台 的兼容性相對較高 (包括微信的 X5 內核)</p>\n<p>桌上型瀏覽器更不用說，除了舊 IE 6 - 8 不看以外，主流瀏覽器都已經有支援</p>\n<p>使用一個新的屬性(功能)最先考慮的覆蓋率 - 剛才這樣總結下來，最近兩種版本的規格兼容性已經有很高的比例</p>\n<p>再加上 caniuse 上的 global 可使用數據已經超過 95%</p>\n<p>問題就是如何讓它「跨版本」，最通用的解決方法就是透過 PostCSS 提供的 <a href=\"https://github.com/postcss/autoprefixer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">autoprefixer</a></p>\n<p>使用 flexible box 最直接的六個理由</p>\n<ol>\n<li>所有主流瀏覽器均支持</li>\n<li>不必擔心語法（跨版本）</li>\n<li>大部分時候只需要使用 <code class=\"language-text\">flex</code>, <code class=\"language-text\">justify-content</code> 和 <code class=\"language-text\">align-items</code> 這三種屬性</li>\n<li>簡化子元素垂直水平居中的方法， <code class=\"language-text\">justify-content: center</code> 垂直居中和 <code class=\"language-text\">align-items: center</code> 水平居中</li>\n<li>更容易地操作內嵌元素</li>\n<li>簡化複雜的布局</li>\n</ol>\n<h2 id=\"相容性\" style=\"position:relative;\"><a href=\"#%E7%9B%B8%E5%AE%B9%E6%80%A7\" aria-label=\"相容性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>相容性</h2>\n<h3 id=\"desktop\" style=\"position:relative;\"><a href=\"#desktop\" aria-label=\"desktop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desktop</h3>\n<table>\n<thead>\n<tr>\n<th>IE10</th>\n<th>IE11</th>\n<th>Firefox</th>\n<th>Chrome</th>\n<th>Safari</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>部分支持，僅適用 2012 年語法</td>\n<td>部分支持，存在多種bugs</td>\n<td>28 之後版本</td>\n<td>21 - 28 版本 (-webkit-) <br> 29 之後版本</td>\n<td>6.1 - 8 版本 (-wekkit-) <br> 9 之後版本</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"mobile\" style=\"position:relative;\"><a href=\"#mobile\" aria-label=\"mobile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mobile</h3>\n<table>\n<thead>\n<tr>\n<th>iOS Safari</th>\n<th>Android Browser</th>\n<th>Chrome for Android</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>iOS 7 - 8.4 (-webkit-) <br> iOS 9.2 之後</td>\n<td>Android 2.3 - 4.3 <br> (2009年舊flexbox規格，-webkit-) <br> Android 4.4 之後版本</td>\n<td>47 之後版本</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>微信 x5 內核是基於 Android 4.2 的 Webkit 533/534 (約2010年)，所以伸縮布局 (Flexbox) 屬性部分支援舊的 syntax 語法，像 <code class=\"language-text\">flex-item-align</code> 或 <code class=\"language-text\">flex-line-pack</code>，而不是加 -webkit- 前綴</p>\n<blockquote>\n<p>解決方法 - 使用 LESS/SASS mixin</p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"範例\" style=\"position:relative;\"><a href=\"#%E7%AF%84%E4%BE%8B\" aria-label=\"範例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>範例</h3>\n<ul>\n<li>\n<p>flex: flex-grow flex-shrink flex-basis / auto / initial / inherit;</p>\n<p>The flex property specifies the length of the item, relative to the rest of the flexible items inside the same container.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 472px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.1111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR42pWQ3W/bVBiH/Zdxw81gmljSVF2Tuk270aq7ATSqMY222sbaQhHaYKK0eHFiJ3E+tonBYB3p1xAL2ha0oZAmJS1NVtw2bfxxbB/bx7FzOKm44aaCR4+Ozs3v/Z33UHuHh9s7O7VaHWiG42DbdhGy0X/A8zyqyswVpq8I2W8KT79QGmM2zNk2GWHax2KaJoSQqoyPPX87+Plc9Jef3gON1xEUcAcXHwup7YTFqYnShVGGy6z/dtlWfTa828a43W61j8V1XcMwKDBxoXaeXohmq5V3MX6t7Sb+R/PeD/crAreafy7uLiInDlHRdrHjIOffINu1jiQX8qnQbFkWojY3Ki/y+e3Cs93ylrwhqpXNxh8b27V/qNfrOx1e7e+VpeY6sbFPzjJQS8hWqD+vj4u0TzzXuxXuOjgbMML+FxffmWejbCTCMAzLsjyfTKXYvRptSD16s7cpnoFy0DN9BnhIHc5MagN+dTgIhoPySEgf6i5NXIxnsimBZFKCICQSQjYbs40h3OprIxq3aOwMeGYAao+oxsykMuCXSfLcGXm4Vx8M/D4+xqfTJJQ8ohPOxGwwiFGobfVhm9jvmV1QW6T2pyfVcACM0upISBkJaeGu4ofvc6lUMh5PdIjH48lMJmqpYWwFXRjyTDKCdqG/8+y/atuVYrFaXt9cL9W2tnRV1iUJAKCqKjkVRVUUWZI0XVd0XTIMoqwBCahNhCyqev9eZe5m9esvi/O3xMhXIB4pPPhuae3x47W1lZWVJ09+zueflYrfNsQFqcHuvrot1iMQRE1twTRKlHjlg2b3CYn2HfS9JdOntd6TD6evzXMce7tDLMYyTLLw9BJGJx3d72g+IkZdnnUCag+og9mr4GyPcr6frK2M0mAkuHbrRuLO3XRKSHcQOP5O8eV1jMm2g9gOYxTG9pALe6D2I9W4eknteUPp9yv0adIMQqdys9ORZJKPxTiO4/kYwwgvf72M8SnPCpDOI7s9602of08dpnnp02vSzY+lGzNE5bOpwr3so5XV5VxuaWlpeTm3uLi6UeZb1pSpzVr6J0fOQvCRoRf+Bu9CJlrBc8ZvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flex\"\n        title=\"\"\n        src=\"/traverse/static/b760ffb86f48ac53c7141ec1cb186b34/3c5de/flex.png\"\n        srcset=\"/traverse/static/b760ffb86f48ac53c7141ec1cb186b34/e9ff0/flex.png 180w,\n/traverse/static/b760ffb86f48ac53c7141ec1cb186b34/f21e7/flex.png 360w,\n/traverse/static/b760ffb86f48ac53c7141ec1cb186b34/3c5de/flex.png 472w\"\n        sizes=\"(max-width: 472px) 100vw, 472px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n<li>\n<p>flex-basis</p>\n<p>flex item 基本大小，會依照父元素大小改變。預設值為auto，依照flex item元素內容而定，若無內容則為0。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">#flex-basis #basis-demo</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 450px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #000<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> -webkit-flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">#flex-basis #basis-demo > div</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">flex-basis</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-flex-basis</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">#flex-basis #basis-demo #demo3</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">flex-basis</span><span class=\"token punctuation\">:</span> 120px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-flex-basis</span><span class=\"token punctuation\">:</span> 120px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">#flex-basis #basis-demo #demo4</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">flex-basis</span><span class=\"token punctuation\">:</span> 25px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-flex-basis</span><span class=\"token punctuation\">:</span> 25px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 468px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVR42n2Qu0qCAQBGfZyGnqDVoSAKUqykBqPLCwQW4QVNTRAiB0FLNIoIwgzBpoIogkwkIwcJW1qshsT/6v0//UkRLX5w1sPHMVSTMT49a+SP9klnLygV4zRFN1JtU8dLW/TxWFnHebjLil8lkKgjiDKKIiPJMvIPkiQhCAKGd5edhmWMm5CP6MEpxbwLtCm05gy95jT0rNxXRpkMbjBshTl3l06X/jSNf/sWG94CThSbidtwiMRxhqeCX5fMozUW6DVs0F2k8GLGuu1hZAmWt9qDhVXHKorJyFXQQyR5wkNuQ5dMoKlmeqoJOhZyz0bG/XaG9MOzjtZg4UcmRS26Q+k8w+X1HZVymqYcQa5H+7SkGOXXMJFsCu+eSvxM1HspqIqid/zjt+MX7EZPH44+esgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flex basis\"\n        title=\"\"\n        src=\"/traverse/static/6e29a7ad5d092aba06f8f0087041d0f5/90372/flex-basis.png\"\n        srcset=\"/traverse/static/6e29a7ad5d092aba06f8f0087041d0f5/e9ff0/flex-basis.png 180w,\n/traverse/static/6e29a7ad5d092aba06f8f0087041d0f5/f21e7/flex-basis.png 360w,\n/traverse/static/6e29a7ad5d092aba06f8f0087041d0f5/90372/flex-basis.png 468w\"\n        sizes=\"(max-width: 468px) 100vw, 468px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n</ul>\n<h2 id=\"已知問題\" style=\"position:relative;\"><a href=\"#%E5%B7%B2%E7%9F%A5%E5%95%8F%E9%A1%8C\" aria-label=\"已知問題 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>已知問題</h2>\n<ul>\n<li>\n<p>在 IE10 和 IE11 中， 容器設置 <code class=\"language-text\">display: flex</code> 和 <code class=\"language-text\">flex-direction: column</code>，如果容器設定 <code class=\"language-text\">min-height</code> 而沒有定義 <code class=\"language-text\">height</code>，則不會計算子元素固定的寬高</p>\n<blockquote>\n<p>解決方法 - 使用 <code class=\"language-text\">height</code> 來替代 <code class=\"language-text\">min-height</code></p>\n</blockquote>\n</li>\n<li>\n<p>在 Chrome, Firefox, Safari 和 Edge 都出現過問題，一些 HTML 元素無法為伸縮容器，像 <code class=\"language-text\">&lt;fieldset></code> 和 <code class=\"language-text\">&lt;button></code> 無法像伸縮容器一樣運作。</p>\n<blockquote>\n<p>最簡單解決的方法，使用一個可以是伸縮容器的包裹元素 (像 <code class=\"language-text\">&lt;div></code>) 直接在這些元素裡面。</p>\n</blockquote>\n</li>\n<li>\n<p>在 IE10 中 flex 屬性默認值 <code class=\"language-text\">0 0 auto</code> 而不是最新規格的默認值 <code class=\"language-text\">0 1 auto</code></p>\n<blockquote>\n<p>最好的解決辦法是，如果要支持IE10 永遠在伸縮容器上清楚的設定 <code class=\"language-text\">flex-shrink</code> 值，或永遠在 <code class=\"language-text\">flex</code> 宣告式中使用完整格式而非簡短格式。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>宣告式</th>\n<th>默認標準</th>\n<th>IE10</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>沒有宣告 <code class=\"language-text\">flex</code></td>\n<td><code class=\"language-text\">flex: 0 1 auto</code></td>\n<td><code class=\"language-text\">flex: 0 0 auto</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">flex: 1</code></td>\n<td><code class=\"language-text\">flex: 1 1 0%</code></td>\n<td><code class=\"language-text\">flex: 1 0 0px</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">flex: auto</code></td>\n<td><code class=\"language-text\">flex: 1 1 auto</code></td>\n<td><code class=\"language-text\">flex: 1 0 auto</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">flex: initial</code></td>\n<td><code class=\"language-text\">flex: 0 1 auto</code></td>\n<td><code class=\"language-text\">flex: 0 0 auto</code></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>在 Firefox 嵌套伸縮容器不向其他伸縮項目應該對齊到基準線</p>\n<blockquote>\n<p>解決方法 - 此問題只影響設定 <code class=\"language-text\">display: flex</code> 的嵌套元素，如果嵌套元素設定為 <code class=\"language-text\">display: inline-flex</code> 會如預期運行</p>\n</blockquote>\n</li>\n<li>\n<p>在 IE10 的伸縮容器中設置 <code class=\"language-text\">-ms-flex-flow: row wrap</code> 元素中的內容不會斷行，除非在子元素設置 <code class=\"language-text\">display: inline-block</code></p>\n</li>\n<li>\n<p>在 IE11 的伸縮容器無法使用偽元素</p>\n</li>\n</ul>","frontmatter":{"title":"Flexbox 使用指南","date":"February 25, 2016","description":"使用 flexbox 的注意事項","tags":["front-end"],"donation":null}},"previous":{"fields":{"slug":"/image-optimization/"},"frontmatter":{"title":"圖片最佳化"}},"next":{"fields":{"slug":"/install-multiple-version-of-nodejs/"},"frontmatter":{"title":"安裝多版本 Node.js"}}},"pageContext":{"id":"58dcea84-bf32-566c-98a7-e4b82e31d8fd","previousPostId":"755e2a20-77e7-56cf-ae00-7e6f2e6403dc","nextPostId":"464bf47c-6272-5bf0-ba6a-af2bca681081"}},"staticQueryHashes":["1824009237","2841359383"],"slicesMap":{}}