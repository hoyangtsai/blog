{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/data-management-behind-the-official-website/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Traverse"}},"markdownRemark":{"id":"44a8328d-b30b-5960-989b-99b2e0c3b567","excerpt":"騰訊微加信用卡官網是一個可以在手機、平板和桌面等多終端上瀏覽的產品官網，除了留言反饋的地方沒有其他與用戶的數據交互，所以在沒用後端資源的情況下，希望網站內容可以根據信用卡的合作內容彈性的修改。 網站第一版用的是之前開發常用的公司內部 Qzone…","html":"<p><a href=\"https://wepluscard.qq.com/mdft/index.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡</a>官網是一個可以在手機、平板和桌面等多終端上瀏覽的產品官網，除了留言反饋的地方沒有其他與用戶的數據交互，所以在沒用後端資源的情況下，希望網站內容可以根據信用卡的合作內容彈性的修改。</p>\n<!-- more -->\n<p>網站第一版用的是之前開發常用的公司內部 Qzone 配置系統，它可以自定義數據結構，但請求時返回的檔案是固定的模版，只能是異步 callback 或 CMD 模式引用取得配置內容。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 自定義數據結構</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">typeof</span> callback_168_config1 <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">callback_168_config1</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>define <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> params\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"搜尋引擎優化\" style=\"position:relative;\"><a href=\"#%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E5%84%AA%E5%8C%96\" aria-label=\"搜尋引擎優化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>搜尋引擎優化</h2>\n<p>產品官網的搜尋引擎優化 (SEO) 是必備的需求之一，所以開發完之後給 SEO 方案提供商進行審核，列出一些需要優化的點，如：</p>\n<ol>\n<li>\n<p>網址層級</p>\n<p>wepluscard.qq.com<span class=\"hi-red\">/mdft/</span>index.shtml 權重比 wepluscard.qq.com<span class=\"hi-red\">/mdft/web/</span>index.shtml 高，最好是只有 host 後面接模塊名，如 wepluscard.qq.com/index.shtml 或 wepluscard.qq.com/feature.shtml … 等</p>\n</li>\n<li>\n<p>完善 meta 標籤和描述</p>\n</li>\n<li>\n<p>標籤語義化</p>\n</li>\n<li>\n<p>標籤規範，如 img 加 alt 屬性…等</p>\n</li>\n<li>\n<p>靜態內容</p>\n</li>\n</ol>\n<p>靜態內容的部分，第一版網站中需要配置的地方，如 <a href=\"https://wepluscard.qq.com/mdft/feature.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡權益</a> 除了 banner 以外，其他區域都是當前訪問頁面，再請求配置系統的 JS 檔案動態 render 權益的分類集和 Vue 的點擊事件綁定。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/ba61e8300ffab8042366e060195d94ba/8ad1b/feature.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 156.96202531645568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEyElEQVRIx5VWb2hbVRQPEwdu9oPYD9uouLkh2qKwTZibww0d2olYPwlKpzjsJorglM0J6hdhCMo++GEwRBzKVHQISm3aNZndOtesXbulc03aLn+a/0nzkpc/7+X9ybs/OTfvJunWTLxwcu+557zfO/ec37l5DgBgjKFqWVwsW2hNI5/Pw+/349q1a5Blme+Z1SqXarUKVrVgVS1GGABUh71oORRFRTqdRiqVgWFWW7kxOzDVQYtoUsLp/jH8MjSJM8NenHFNo3/Ujzm/D5patB9RMe1x44J7GCd//A3Hjn+Nk9+cxvXBCdz49SLLL2RqEdLv5esRvHL0Z7z5+R/oOzaAvi+cOHLiAgZdbszfuATAwKT7e/Q+twUfvPMWOra+gBWbnsH9m3Zhc/sWPNu2jU0OX24ABhIyTvTfwLdnZ/HDuXmccs3h9ytxnPryOL779D0kb47iq8/exY6uB3H0w0PYuPsg7tu2D2tfOoy2p1/FXRu3s8GRSw3AcCKLnwb+xl+eaZyf8mHMt4D5dAEfvbEPDzgc6N7che5d27FhbTvePnAQD+3swz1dPVjT8zHa1j+Flfd2sqGz7gZgajEH1+gExqe8+HPkCs5P/IO0JOPI671Y43Bgz7p2PL/jCTy8oQMH9u9HR+derHqsF21de3H3qvVYsbqLDTiHGoDxtITz414ONO7145xnGnOhKA71voa9a9vx4iMb0L1zK17e8yQ+Ofw+Oh7djdWdPVjd8ThWrloHx8r1zDl4rgFY0XTMBSOYDSwgEo1ByhegVHTM+f0YGXTC5XRiwjOG+Vkf4rEoLlwcw/DZIbjdLoxeHMPk1HUmy4UGIGMWQqEQMrGbyEanoSt5zhRN0xBPJiBnwlCkcJ102WwWuUwcRikJS128nYemWUU8kUAkEkEymYQkSahoGpRyGeFwmL8sFAoiEAhAVVUkEgn4fD74Zmbg9XqJ+I1OoV9qNdM0YRgGByej2NN1ne/XbCZvNwItFovI5XK8HU3TXAooAMQshPTl5NZhWdZSwP8aywHd8gJhVB2VSgV3EioMHZuE1i38mD2rDkVRIKRcLnMRa8oVVfTq1avweDz81qE94dMkzJ5rgOSkGzpMo1YYERWt6c2lUokXgfZFoZqLZRgGI4wlgLwFsykUS8V6vuRcBnlpsZ43TSlDzkl2IRhMvYJkjPOTVSpNgBQFcS8QDCASjUBVFE6JWCyKyMICCoUCPxrxcdbv53qxWEI8HkMwECBfnsMlgMQvwTM6huCh2BPSbCNd17m+/JHVisofIEexf6vQy5fRbwektwYjQaRSqTrg/xBm4zSOTP9uyUQSi4uL9ehaRbmMMHtuRFjLh17v6Vb8vFOE/MiC7a1yRdwTBaG1sLXsFEFS0VqC1Hw2dE6RYDDIrzEieN221J/ZGKqj2UhXl+gUEqtqoSAX+N03MzODgizXIyUx9NqVpmkas/cagDTKJRm6rkFcLKpWa0kxTItBrTTpVRNykX+eMDuoGiAJJT0UmEMmneZRkh6OhhGLx6BpOhSljGg8iYVonNspl5lsBoFwgG52ZgfWiJCaX5JyPGekU75yUo7TiXyoitSeuZzE7aSTL9nLywE2X5iUl2ad8mbZX2NC519ejZu+fuR/AVwD0RtLGr9nAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"feature\"\n        title=\"feature\"\n        src=\"/traverse/static/ba61e8300ffab8042366e060195d94ba/f058b/feature.png\"\n        srcset=\"/traverse/static/ba61e8300ffab8042366e060195d94ba/c26ae/feature.png 158w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/6bdcf/feature.png 315w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/f058b/feature.png 630w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/40601/feature.png 945w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/78612/feature.png 1260w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/8ad1b/feature.png 2320w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/d01509982dce6f286a7a8f6d7c824370/34e83/feature_detail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQoz22S227aQBiE8y6R0qte9zZ9IMiNsdc2IKiISxMB6rNRJFCBpBxMMXYMPoBNkL5qVzEtVVYa7b/2znhG4yvbtvkfFcNCM2wFXdgYwkIXJsK0L/Ae98qyLDVYlk3NtqhYTT47E27bC26dZz59eea6MuFa+8mNeOKDeOJG/OKjNeHO+kbdNhVX6kicBZvNJsI0cL62+TH1mG0ygj2sE3BjWEbwO4VVAus9LHfQ7X3H0DUajSbVavWvoDxIlO/KNBoNfG9FfkiItgGhvyYKPeKtz/EQc8oSTnnKKd/z+PBAuVxShmq12qWgfGCaJo7j4K5WxElCELzguiu8jU+SpMRxwksYkmU5r68nOp0uhmFQr9cvHRaRDSFot9ssFgviOGaz2TAej5nNZvi+r87r9VrNu92ObreLEOIsdi6liFwql5TT4/GIXPP5nH6/z3Q6VaKe53E4HMiyjDRN6XQ6yuG7LUvb8mutVksR5HJdl8FgwHA4ZDQaKeHlcqlchmFIr9dD1/W3v+St5UK5sC0Ft9steZ6rWEEQKHIURWqXceUu70iHReSzQxmxQFGOFJW4v79X0DSNSqWiZlmahHz/L6fAHz+pSQJ2lSLlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"feature detail\"\n        title=\"feature detail\"\n        src=\"/traverse/static/d01509982dce6f286a7a8f6d7c824370/f058b/feature_detail.png\"\n        srcset=\"/traverse/static/d01509982dce6f286a7a8f6d7c824370/c26ae/feature_detail.png 158w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/6bdcf/feature_detail.png 315w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/f058b/feature_detail.png 630w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/40601/feature_detail.png 945w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/78612/feature_detail.png 1260w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/34e83/feature_detail.png 2852w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>如果把整個用卡權益頁做成靜態的，這樣會變成開發的維護成本高，所以需要在開發的維護性和產品運營能力中取得平衡。</p>\n<p>要實現靜態內容網站可能會先想到後台直出，但如開頭說的這是一個沒使用後台的項目，用在這個地方也有殺雞焉用牛刀的感覺，不在考慮方案內。</p>\n<p>如 Vue SSR 介紹</p>\n<blockquote>\n<p>如果你調研服務器端渲染 (SSR) 只是用來改善少數營銷頁面（例如 /, /about, /contact 等）的 SEO，那麼你可能需要預渲染。無需使用 web 服務器實時動態編譯 HTML，而是使用預渲染方式，在構建時 (build time) 簡單地生成針對特定路由的靜態 HTML 文件。優點是設置預渲染更簡單，並可以將你的前端作為一個完全靜態的站點。</p>\n</blockquote>\n<p><a href=\"https://ssr.vuejs.org/zh/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93-vs-%E9%A2%84%E6%B8%B2%E6%9F%93-ssr-vs-prerendering\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">服務器端渲染-vs-預渲染-ssr-vs-prerendering</a></p>\n<p>像 React 和 Vue 這些 Web 框架為了解決 SPA 這類的問題，開發社群已提供預渲染的插件，但是預渲染通常只輸出一個頁面的初始狀態，而且需基於 Webpack 開發構建。</p>\n<p>這個項目不使用 Webpack 開發，預期不只是預渲染一個頁面的初始狀態，而是一個頁面所有可能性操作狀態，這樣才能全面覆蓋所有靜態內容。</p>\n<h2 id=\"vtools-數據管理平台\" style=\"position:relative;\"><a href=\"#vtools-%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0\" aria-label=\"vtools 數據管理平台 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vTools 數據管理平台</h2>\n<p>借助於另外一個公司內部配置系統 vTools 數據工具管理平台，提供更好的解決方案，相較 Qzone 配置系統提供更彈性的配置能力，把數據源和返回內容格式拆分。</p>\n<p>除了支持基本數據類型，如單行輸入框、多行輸入框、下拉列表、圖片、日期、富文本輸入框…等。</p>\n<p>如果字段需要一個 Array 數據，可以使用自定義數據體或引用字段，自定義數據體是在現有的數據源上嵌套一層 Array 數據，只支持單行輸入框和下拉列表，所以不能嵌套兩層以上的數據；而引用字段是引用另外一個數據源，這使用上就彈性很多。</p>\n<p>使用引用字段類型，前提是兩個數據源有強烈的父子關係，否則只需要在返回的檔案模版中處理即可，模版中的數據源管理支持引用多個數據源。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/c6720/globalCfg_tmpl.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFklEQVQoz52SC26EMAxEuf999hR7hSIIVAWyCcsnsAkQpppIUMr2o9bSCILtZ2MnkvcOZZKi0RpmGGCt/STnHIwxeFUNpMjhjIGbpg+/dbDOomoq1HWN6HaTSNIkJA3DgHme4b3Huq770zoHkaZIhYBSKhTZ/X6FWxwuLxeou0LEKlprjOMYoBQTaEyiTdMEpXWIo+9ccPYzrm9XtH2LiAmECSEQxzGKongC8szOj0bfUYtfsCwLIlaXUobq/GXCj0kbkMFH0BlOY8fR4/EIQML4Tm0D/wl41g7kgbA8z5EkCcqyRNu2++C/Ap7tCdh1HbIsCyK0qqrQ6b+AnGHf92GT3wX+CchrwkVs1+Asfme325Z/A74DReYNdVr6M9gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"global template config\"\n        title=\"global template config\"\n        src=\"/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/f058b/globalCfg_tmpl.png\"\n        srcset=\"/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/c26ae/globalCfg_tmpl.png 158w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/6bdcf/globalCfg_tmpl.png 315w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/f058b/globalCfg_tmpl.png 630w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/40601/globalCfg_tmpl.png 945w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/78612/globalCfg_tmpl.png 1260w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/c6720/globalCfg_tmpl.png 1922w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>返回的檔案內容結合 Smarty 模版語法，可以自行構造想要的內容格式，除了像 Qzone 配置系統的檔案格式外，也可以構造成 JSON 格式或 HTML 程式碼片段等。</p>\n<p>Smarty 語法可以對數據進行更進一步的處理，如判斷、字串處理…等多樣的操作語法</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token comment\">// Loop</span>\n<span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span><span class=\"token comment\">#foreach from=$data item=\"row_item\"#} OR {#foreach $row as $row_item#}</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token comment\">#if $row_item@last!=true#},{#/if#}</span>\n  <span class=\"token punctuation\">{</span><span class=\"token comment\">#/foreach#}</span>\n<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#/foreach#}</span>\n\n<span class=\"token comment\">// 條件</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#if $coupon.show != 'false'#}</span>\n<span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#/if#}</span>\n\n<span class=\"token comment\">// 預設值</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token string double-quoted-string\">\"route\"</span><span class=\"token punctuation\">:</span> <span class=\"token string double-quoted-string\">\"{#<span class=\"token interpolation\"><span class=\"token variable\">$offline</span></span>.route|default:'[]'#}\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 字串替換 &amp; 串行操作</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#$item.rules.featureRules[0].content|replace:'\\n':''|replace:'\\\"':'\"'|replace:'\\/':'/'|strip#}</span></code></pre></div>\n<p><a href=\"https://www.smarty.net/documentation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Smarty 官方說明文件</a></p>\n<p>有這樣的配置系統就可以把數據先構建，輸出成靜態檔案，最後問題就剩下如何引入</p>\n<h3 id=\"ssi-服務端引入\" style=\"position:relative;\"><a href=\"#ssi-%E6%9C%8D%E5%8B%99%E7%AB%AF%E5%BC%95%E5%85%A5\" aria-label=\"ssi 服務端引入 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSI 服務端引入</h3>\n<p>SSI (Server-Side Include) 是一個伺服器提供的通用功能，在檔案中訪問時可插入一段程式碼檔案，像是 HTML 或 JS 檔案透過 SSI 就可以把 pre-render 的靜態檔案引入到頁面中。</p>\n<p>因為 SSI 的特性可以把 Vue 的事件修飾符寫在模版中，透過 loop 把原本在 JS 動態生成的內容 pre-render 成靜態的 HTML 程式碼片段並做事件綁定。</p>\n<div class=\"gatsby-code-title\">index.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>site-header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>site-header</span><span class=\"token punctuation\">></span></span>\n\n      ...\n\n      <span class=\"token comment\">&lt;!--#include virtual=\"./inc/feature.html\" --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-code-title\">feature.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">{#foreach from=$feature item=\"rowItem\"#}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>feature feature-{#$rowItem.type#}{#if $rowItem.type == <span class=\"token punctuation\">'</span>video<span class=\"token punctuation\">'</span> || $rowItem.type == <span class=\"token punctuation\">'</span>shopping<span class=\"token punctuation\">'</span>#} feature-bggray{#/if#}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row row--list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach $rowItem.list.items as $item#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-12 col-sm-12 col-md-8 col-lg-6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-toggle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>showRuleModal(<span class=\"token punctuation\">'</span>{#$item.id#}<span class=\"token punctuation\">'</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token comment\">&lt;!-- 權益方框 --></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    {#foreach $rowItem.list.items as $item#}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal fade feature-modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{#$item.id#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-dialog modal-dialog-centered<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>document<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token comment\">&lt;!-- 權益細節彈窗 --></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    {#/foreach#}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n{#/foreach#}</code></pre></div>\n<p>總結以上敘述</p>\n<ol>\n<li>使用像 vTools 數據管理平台的配置系統，把數據源和返回檔案格式拆分，結合 Smarty 語法自行構建檔案模版。</li>\n<li>使用 SSI 服務器的功能，在不使用 Webpack pre-render 的插件，也可以插入程式碼片段到頁面中，同時綁定 JS 事件。</li>\n</ol>\n<p>補足靜態內容的缺失和其他 SEO 優化點，現在透過搜尋引擎都可以找到微加卡的官網</p>\n<p><a href=\"https://www.baidu.com/s?wd=%E9%A8%B0%E8%A8%8A%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1&#x26;rsv_spt=1&#x26;rsv_iqid=0x9f4d8c31000853fe&#x26;issp=1&#x26;f=8&#x26;rsv_bp=1&#x26;rsv_idx=2&#x26;ie=utf-8&#x26;rqlang=cn&#x26;tn=baiduhome_pg&#x26;rsv_enter=1&#x26;rsv_dl=tb&#x26;oq=%25E8%2585%25BE%25E8%25AE%25AF%25E5%25BE%25AE%25E5%258A%25A0%25E4%25BF%25A1%25E7%2594%25A8%25E5%258D%25A1%25205%25E5%2580%258D%25E7%25A7%25AF%25E5%2588%2586&#x26;rsv_t=e6b1Rn9vaOCLDFUFOj7Zfp9hS33kh9NB7xmlicI9uVNmGXSeMZ7zyhs%2FohfELKRtKJVR&#x26;inputT=723&#x26;rsv_pq=80869d82000ad733&#x26;rsv_sug3=34&#x26;rsv_sug1=15&#x26;rsv_sug7=100&#x26;rsv_sug2=0&#x26;rsv_sug4=4939&#x26;rsv_sug=2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡_百度搜索</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/ace3a7e82b502fdb9f15a75329907590/ae28e/baidu_search.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC3ElEQVQ4y3WU6Y7bVgxG5/1fqED7p0WApmk8402StVmyZWuxta/WfgLJTuJpOgQ+XEkQD8lL3vtSmEcuZkhpHdH1PQfTxPM8siynKAryPJ/1/DwpTVPyLGF9rPlt0/GX3FI3HS89k43UI9hRQXpryKuSvIipqoKyLGdVVXVfH+9TAN8P6JsK6ICWrmt5YRxn5FDXVLpOqWsUzgXTqEmTe7iPrGkaur5nGJk12cv4APZVRfL6Srzd4Igyq63FQbMIDgeMwwHHdfFtm+O0JZcLSZoSJwnDw3/iTPoBvNUtkuog6z6qemGvXQh0nZOgoMo26u7M7XohmWBRSFff6Juaset+AN9l2Pou7tdPXFb/EMkajhQQaReuuwtXNaQPUygzyNO70giSCMIrY1nwoD6V7JxJ/v5MtlxhCipva5v19sxq67DZnnCOJyLP4+y4WK5LWpYEaUbf9xCHjP8F1q6Ftv2Mulug7r6iKwvsvYitShirNypNodZV4oPB1dhzu3p0ScQYBXOmvwD7IidfLSg2r8SqhiIEnLQYQ0zYCym3tJ3+gqGHcYCuhbaB+sY4DL+W3LQt5t7AMo943hXzcOJo2fhBjOf5RFFMEEWEjkN7PtOGIXGS0rQfNKXremRTQbdV4jgmisI5Yj/0tH1HNwzzzPXtlFk7OTBMM/jIbua8K7muiUSRTJFwJQtZKtjrNzS5Ql0mOPucrm3nSm5NM6/TYI9Pc/guw7hu+V3Q+Hen8sl0MQ0LSVSQ1iLalwX71yWGrqMoCrIso2kapmneu/x/wLTp+EOQWRsGf54DQsdGOotYvoVpmfhx+OERfM7y5x42A8Kmwl4dyNdL8tcF3s7F2GVIUsZuFdIECUNVUlbVfDlMF8b44dFrar5s3xB3AuJ2i7pcchZEvPUWX5AIJBlPlrFkGUVVsSxrhn73/24/x2bosHOX5JaQZhlpUTDMF9u9e9yn8P7tCTJ1+VnfAKx/DTDzl6EwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"騰訊微加信用卡_百度搜索\"\n        title=\"騰訊微加信用卡_百度搜索\"\n        src=\"/traverse/static/ace3a7e82b502fdb9f15a75329907590/f058b/baidu_search.png\"\n        srcset=\"/traverse/static/ace3a7e82b502fdb9f15a75329907590/c26ae/baidu_search.png 158w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/6bdcf/baidu_search.png 315w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/f058b/baidu_search.png 630w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/40601/baidu_search.png 945w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/78612/baidu_search.png 1260w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/ae28e/baidu_search.png 1598w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://www.sogou.com/web?query=%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1&#x26;from=index-nologin&#x26;s_from=index&#x26;oq=%E9%A8%B0%E8%A8%8A%E5%BE%AE%E5%8A%A0&#x26;ri=0&#x26;suguuid=8d7d37be-42e0-41ed-b2ac-42ceaea60583&#x26;stj=0%3B0%3B0%3B0&#x26;stj2=0&#x26;stj0=0&#x26;stj1=0&#x26;hp=0&#x26;hp1=&#x26;suglabid=suglabId_1&#x26;sut=5061&#x26;sst0=1567531484514&#x26;lkt=0%2C0%2C0&#x26;sugsuv=1567531401947575&#x26;sugtime=1567531484514&#x26;page=1&#x26;ie=utf8&#x26;p=40040100&#x26;dp=1&#x26;w=01015002&#x26;dr=1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡 - 搜狗搜索</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/5faf73651002bf3e87189768d4afd7ce/81315/sogou_search.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAADKElEQVQ4y52Uy27kVBCGs2YPz8ALILFhxRYeAIkFEjvQiD1rngCJDUsQCxbzAEijURYThSHJJJ3puC++te2OL+1Lt92+Hx9/yE7SyQw7fun3cUnWX3/5VNVR7ShYtoPn+5iWhWoYxEkMSKQU9H13RyR9LxGyQ0iJ6DratiWOYzRNI89zBhzJTiA6SVdV9PYafJcmLND1ilunYqbk6FqOpmbYdo4oK2RZ0lYVTdOMosPZdUPinqPhMcB3b3n27Vd88fln/PD9d6jLFcqNymJujOdM0VguTCLLIlFV1rqOuVohu46nOJJSji+GafDpJx/z0Ycf8M3XX2KHOnZgsA5NotQjqxPKdkee72mHcoUY3Q2GnvLgsC1L7OspzvWEwLTZJA1BWOOHNUHYsMsFjtuQF+86GvCg8Y5gLwRnz3/j5Pdf8I016jzkZuJxfbnm4rXB/GzB+Ysb1BsTz3OxLRtd0xBt+yh6EOxhyPv81x/5+adnqM4KZTXlcnmBul6ysGZsfJN2H7BNQ/xtRLzdkhUF/XsuDw6bfcbq9Qv++vMP/n75iizxiDYW+zggTwLSJKDIEtpyhyh2iGwHbU1fFgexO4f3l9LfOrTHx3B+RnL5Fudsye35AuefOevzOfbplGhmknku+8CnikP2YQAbD4aWOQjeq1ehx3x6xlxVeGvMmBoKC1vF8C1mC4XENEk9l9uNj2lbhFFMOdxyugUh/isoIp/UmJF7FmngEvohsRuSRil7L0D6Hv1mQ5vkHH7cgG1M34knJfd3JQvfJTw+xnt1wuz8iusLhflkyexaZTm5wby6wpxM0BUV3VhhOQ67vIB0O3ZI/37bVKHLypxgOgtMa4rtKEThisDTWDsLfGtFuU2okpB94NEkEZQFhB7Ih958WnJVsjE1uv0ORAN1BWUJZXXP8pHD3JclfZ6Pcy1lP7KXTwSbVnJ6mnBykvHmTcXabYliyWLZoBsNlt2S7ns0/T627mLbbtHVCk2tCDfto+CQYZdIolCQxMOcSv4Pjh6GelgSTVNS18W4B4clUBTFuJqqqqaqqpF1Xd/HNWU5fN+QZdm4KIQQ/Av60v6C8RqzgwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"騰訊微加信用卡 - 搜狗搜索\"\n        title=\"騰訊微加信用卡 - 搜狗搜索\"\n        src=\"/traverse/static/5faf73651002bf3e87189768d4afd7ce/f058b/sogou_search.png\"\n        srcset=\"/traverse/static/5faf73651002bf3e87189768d4afd7ce/c26ae/sogou_search.png 158w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/6bdcf/sogou_search.png 315w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/f058b/sogou_search.png 630w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/40601/sogou_search.png 945w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/78612/sogou_search.png 1260w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/81315/sogou_search.png 1656w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"合併請求\" style=\"position:relative;\"><a href=\"#%E5%90%88%E4%BD%B5%E8%AB%8B%E6%B1%82\" aria-label=\"合併請求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>合併請求</h3>\n<p>Qzone 配置系統還有另外一個問題是限制配置檔案大小，當如果一個配置內容過多時必須拆分成多個檔案，如 <a href=\"https://wepluscard.qq.com/mdft/qa.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">幫助中心 - 騰訊微加信用卡官網</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/b18c4/qzone_faq.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHjXNQg/8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAEFAkY//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhABAQEAAAAAAAAAAAAAAAAAAAEg/9oACAEBAAY/AlTH/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQQRFxsf/aAAgBAQABPyEaWBwimOtH/9oADAMBAAIAAwAAABAP7//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEDAQE/EEf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAAMBAAAAAAAAAAAAAAABACExQbH/2gAIAQEAAT8QNEDEYTkQ0Nbl6Xkv/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Qzone 常見問題配置\"\n        title=\"Qzone 常見問題配置\"\n        src=\"/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/828fb/qzone_faq.jpg\"\n        srcset=\"/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/ff44c/qzone_faq.jpg 158w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/a6688/qzone_faq.jpg 315w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/828fb/qzone_faq.jpg 630w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/0ede0/qzone_faq.jpg 945w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/3ac88/qzone_faq.jpg 1260w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/b18c4/qzone_faq.jpg 2186w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>這會造成過多的網路請求，如果我們用上面的方法，一樣可以把常見問題的數據透過模版 pre-render 生成單一 HTML 檔案程式碼片段</p>\n<div class=\"gatsby-code-title\">help.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>site-header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>site-header</span><span class=\"token punctuation\">></span></span>\n\n      ...\n\n      <span class=\"token comment\">&lt;!--#include virtual=\"./inc/faq.html\" --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-code-title\">faq.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-24 col-sm-7 col-md-4 qa-list-row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach from=$qa item=\"item\"#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current == <span class=\"token punctuation\">'</span>{#$item.name#}<span class=\"token punctuation\">'</span> ? <span class=\"token punctuation\">'</span>active<span class=\"token punctuation\">'</span> : <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>activeCateg(<span class=\"token punctuation\">'</span>{#$item.name#}<span class=\"token punctuation\">'</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token comment\">&lt;!-- 分類側標題 --></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-24 col-sm-17 col-md-20<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach from=$qa item=\"item\"#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accordion<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current == <span class=\"token punctuation\">'</span>{#$item.name#}<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            {#foreach from=$item.qlist.question item=\"q\" key=\"index\"#}\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                        <span class=\"token comment\">&lt;!-- 問題標題 --></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{#$item.name#}{#$index+1#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-parent</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#qa{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>collapse<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                            {#$q.ans|replace:'\\n':''|replace:'\\\"':'\"'|replace:'\\/':'/'|strip#}\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            {#/foreach#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"微加信用卡移動端\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1%E7%A7%BB%E5%8B%95%E7%AB%AF\" aria-label=\"微加信用卡移動端 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微加信用卡移動端</h2>\n<h3 id=\"減少請求\" style=\"position:relative;\"><a href=\"#%E6%B8%9B%E5%B0%91%E8%AB%8B%E6%B1%82\" aria-label=\"減少請求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>減少請求</h3>\n<p>SSI 還可以用來優化頁面載入</p>\n<p>假設可以自定義返回的檔案格式就能更彈性的配置，像是 JSON 格式或 HTML 程式碼片段，再透過服務器的 SSI 能力嵌入 UI 模塊中，如全局配置 (錯誤碼轉義、灰度路由和下線路由)</p>\n<p>透過測速監測，一個全局配置大概在 150ms 左右的請求耗時</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/909807b7b83c86812a1c43f611e12ad8/8dcca/globalCfg_speed_test.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABA0lEQVQoz02Ru04EMQxF08NOHk5sJ5lZhASClgbRQM3//9BF8SbLFEfXtm4UP1w5dtD7K+TYjSiMSITWOwozQkxgEctHTDlbPrS2BlYF+YD89QH5/YFrby/Q70/k5yfQdQf1Bh8jNh/gQ0CI0dTyGd/491j9smF7eITLlJF9QMl5UqyzMzy1ikJE7jU++0QQU4IbracBkY06SCdutQQiQmdBLXz3LW+Z70e3bv0kzOiihsyasmDXijbqOupiXbbpW7pIMcE1rfaoa7VxBiPuUlFZbAVSGJXVJimF0ZaXBcwC4mJqI9vCJ2vhF++Rc7HL7tfDtPaG43rYvrZ1iBjtaOEU/wGG3q667vY3mQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"全域配置測速\"\n        title=\"全域配置測速\"\n        src=\"/traverse/static/909807b7b83c86812a1c43f611e12ad8/f058b/globalCfg_speed_test.png\"\n        srcset=\"/traverse/static/909807b7b83c86812a1c43f611e12ad8/c26ae/globalCfg_speed_test.png 158w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/6bdcf/globalCfg_speed_test.png 315w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/f058b/globalCfg_speed_test.png 630w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/40601/globalCfg_speed_test.png 945w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/78612/globalCfg_speed_test.png 1260w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/8dcca/globalCfg_speed_test.png 2888w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"數據上下架\" style=\"position:relative;\"><a href=\"#%E6%95%B8%E6%93%9A%E4%B8%8A%E4%B8%8B%E6%9E%B6\" aria-label=\"數據上下架 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>數據上下架</h3>\n<p>大部分配置系統，數據上下架是直接刪除某筆數據，但是產品/運營需要額外維護一套所有的數據，因為數據刪除了就無法復原。</p>\n<p>在數據源的地方增加一個上下架開關的欄位，並在 Smarty 模版中判斷數據是否下架，這樣不但前端不用做修改，還可以讓數據保留在配置系統中，便可以維護下架的數據。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"coupons\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>#foreach from=$wecard_coupon item=<span class=\"token string\">\"coupon\"</span>#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#if $coupon.show != '<span class=\"token boolean\">false</span>'#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"couponId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{#$coupon.couponId#}\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{#$coupon.name#}\"</span><span class=\"token punctuation\">,</span>\n            ...\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>#if $coupon@last!=<span class=\"token boolean\">true</span>#<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>#/if#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#/if#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#/foreach#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"批量發佈\" style=\"position:relative;\"><a href=\"#%E6%89%B9%E9%87%8F%E7%99%BC%E4%BD%88\" aria-label=\"批量發佈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>批量發佈</h3>\n<p>另外一個場景微信移動端的優惠專區，有列表和詳情兩個頁面。</p>\n<p>可以透過外部的連結直接進入某一個優惠詳情頁，所以頁面承載各種優惠詳情。如果詳情只是一個配置檔案，當優惠券數量多的時候，那詳情的檔案大小會非常可觀。</p>\n<p>這時候，使用 vTools 數據管理平台的逐條發佈功能，就可以把每一個優惠詳情拆分成獨立一個配置檔案發佈出去，做到瀏覽某一個優惠詳情的時候只讀取該優惠券的配置信息。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/3a4f1/wecard_detail_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVQ4y52T23KbMBCGef/36BP0qre5jePWGdekBnMKNScDoqADJ/+dlUcMk9TTNpr5h5W0+63Qrqw0SWD7Zzy5GXZRjWcvx0tc4Tmq8dUv4bxeoJRE3/daSqnFXktKqWV1QsHNOMZpBtlcKnChoNQAKXuYYWDjOGo1TYOqqsAYQ13Xem8YBlg0KcsSjNVaVVUijCI87m18c1x8+vwFDw+PKIoc+aXSoKK4IE1T5HmOLMsQxzHO57OWRVSimwz0lVKhYAxVw/D95YjAj9EPPVQ/LCdd/7rruthut7BtG9b6btaO4zDoBDSu1/m2/sbH2JxzCCH0VVjrhdvp5GKThJDLvoGYAhhRYoLRvj4hBdDGNE06gO4pTGtwNSIMX+F7Pn61HYQaME3jktQAkyRBEAQIwxDW9XpdKvnWXs/v+dA4nU7Y7XbY7/ew5nlegv+kNfyeCEiw/wbeg1PbOI6D4/H4d+C/iIAEe3eHHx1RFOFwOMDzvFtjmzah0tO8bVt0nKPpOFLWoG5bXc1xmrB+CKaNqMoE830fFjlqQNfpIPrSG/2Z5wjTDNsfDvw4QMMadILaRGh/E0Oil0IF2Ww2+A3xDzcQz8+2+AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"逐條發佈\"\n        title=\"逐條發佈\"\n        src=\"/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/f058b/wecard_detail_2.png\"\n        srcset=\"/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/c26ae/wecard_detail_2.png 158w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/6bdcf/wecard_detail_2.png 315w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/f058b/wecard_detail_2.png 630w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/40601/wecard_detail_2.png 945w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/78612/wecard_detail_2.png 1260w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/3a4f1/wecard_detail_2.png 2588w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>勾選使用詳情發佈之後，透過選取單一數據進行發佈</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/8adb9/batch_publish.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9UlEQVQ4y61S2W7bMBDk/7/3ta/9hPaxbpq4SFwDPVxHsk7acSSZEnRZh3VMsCvLVRqgQNASGC05ws7sLinmN9dYLBZY3N3BdV0opRAEwavg+z7iOMZ8PocI1QF1XaNtW/zr2u52EPQJw5CJvu/RdR1HMiCjKdc0DWPkCEPiEBzbhvA8D1mW43Q6scgIEiOjKVeWJfMk1LQNC8lUYqVWLGibBgTNIE1TFiTnqTtVM62Y+b57Vl1YhnjIdkOFrgshpUSSJEyMyWP741zZaOxrPJNx3z2boXQlxH6/5wopeVohtRZF0aWyvusRFRGW/vKZKBt3gzG9EnFQIZI8R3Y8oqxPqKqK2x9Fp4JZncFKrBeCY/ssuDM22Gpr2L9WkNo9HMdBWRSXJJr8mPhny8xRPAtK6UJsF1/grb7B19eoXZMfatO2KOoGx6rhybU8ryE2dCk9LiDu1A6CtuNCuI7ErbZlzH46+GT6+Lh5xMzwcGUGuDJ9xmczwGzj4doKMHcUbmWEH36G1eGItSpgpS3uDQtiryKYcQU9PEJTObQgxdpLsFEZ9EOGjcph0L9DxqCzft6b0RFuXGKbVHgsemgkGIbqPJju95N/sf7G0wyHW36QDkSe5/gfy4573Hw3IJbLJQzDgK7rDNq/FpZp4O2Hr3jz7j2eADabfVZkpzR6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Batch publish\"\n        title=\"Batch publish\"\n        src=\"/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/f058b/batch_publish.png\"\n        srcset=\"/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/c26ae/batch_publish.png 158w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/6bdcf/batch_publish.png 315w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/f058b/batch_publish.png 630w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/40601/batch_publish.png 945w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/78612/batch_publish.png 1260w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/8adb9/batch_publish.png 1638w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"產品官網背後的數據管理","date":"December 10, 2021","description":"官網 SEO 搜索引擎優化，數據靜態化管理","tags":["SEO","front-end"],"donation":false}},"previous":{"fields":{"slug":"/develop-super-easy-chatbot-release-online/"},"frontmatter":{"title":"開發超簡單聊天機器人發布線上"}},"next":{"fields":{"slug":"/css-class-naming-mothodology/"},"frontmatter":{"title":"CSS Class 命名方法論"}}},"pageContext":{"id":"44a8328d-b30b-5960-989b-99b2e0c3b567","previousPostId":"77ea4751-68da-5855-840e-03e92336a2ec","nextPostId":"b84b37ac-0665-5d35-8f8e-b5807cf6214d"}},
    "staticQueryHashes": ["2841359383"]}