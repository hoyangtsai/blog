{"componentChunkName":"component---src-templates-blog-post-js","path":"/data-management-behind-the-official-website/","result":{"data":{"site":{"siteMetadata":{"title":"Traverse"}},"markdownRemark":{"id":"44a8328d-b30b-5960-989b-99b2e0c3b567","excerpt":"騰訊微加信用卡官網是一個可以在手機、平板和桌面等多終端上瀏覽的產品官網，除了留言反饋的地方沒有其他與用戶的數據交互，所以在沒用後端資源的情況下，希望網站內容可以根據信用卡的合作內容彈性的修改。 網站第一版用的是之前開發常用的公司內部 Qzone…","html":"<p><a href=\"https://wepluscard.qq.com/mdft/index.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡</a>官網是一個可以在手機、平板和桌面等多終端上瀏覽的產品官網，除了留言反饋的地方沒有其他與用戶的數據交互，所以在沒用後端資源的情況下，希望網站內容可以根據信用卡的合作內容彈性的修改。</p>\n<!-- more -->\n<p>網站第一版用的是之前開發常用的公司內部 Qzone 配置系統，它可以自定義數據結構，但請求時返回的檔案是固定的模版，只能是異步 callback 或 CMD 模式引用取得配置內容。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 自定義數據結構</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">typeof</span> callback_168_config1 <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">callback_168_config1</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>define <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> params\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"搜尋引擎優化\" style=\"position:relative;\"><a href=\"#%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E5%84%AA%E5%8C%96\" aria-label=\"搜尋引擎優化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>搜尋引擎優化</h2>\n<p>產品官網的搜尋引擎優化 (SEO) 是必備的需求之一，所以開發完之後給 SEO 方案提供商進行審核，列出一些需要優化的點，如：</p>\n<ol>\n<li>\n<p>網址層級</p>\n<p>wepluscard.qq.com<span class=\"hi-red\">/mdft/</span>index.shtml 權重比 wepluscard.qq.com<span class=\"hi-red\">/mdft/web/</span>index.shtml 高，最好是只有 host 後面接模塊名，如 wepluscard.qq.com/index.shtml 或 wepluscard.qq.com/feature.shtml … 等</p>\n</li>\n<li>\n<p>完善 meta 標籤和描述</p>\n</li>\n<li>\n<p>標籤語義化</p>\n</li>\n<li>\n<p>標籤規範，如 img 加 alt 屬性…等</p>\n</li>\n<li>\n<p>靜態內容</p>\n</li>\n</ol>\n<p>靜態內容的部分，第一版網站中需要配置的地方，如 <a href=\"https://wepluscard.qq.com/mdft/feature.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡權益</a> 除了 banner 以外，其他區域都是當前訪問頁面，再請求配置系統的 JS 檔案動態 render 權益的分類集和 Vue 的點擊事件綁定。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;max-width: 60%;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 157.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEoklEQVR42p1Wa2gcZRTdH4UqqT9K2vqjTRAsSistlpqGCkLABypiaaCSBolNoqKCSYyNSjHQCrWgNuIftWClgoq/DBE0fUQwahPdxqRNSNwm7u7se/Y1O9nszu7sI8d7v9nZZ9KiHxyG7zFn7nfvOZexoDBWV1drwCOdTiMajSIUCkHXdbGWz+cNVJ2lp2bBOsM8pCgKbDYbZmdvIBZTK/bKA6kgzGZziCc0QgrxZAorhISmQ0skkKGoUqkU9EwG6ZQmwMSKEoWixqDncsjQ+zmKmIZBOP23Gy+d+ha9H4ygf+hH9H88ipNfjGNi4ndEZIkvCVWex+en+zF05j082dGDXS2H8MQznTh79AQ+e+pteKxLJcI5ewjHPx3H4PlJnLxgxamvrPhkeB4j34/gz4vf0QkVw1+exqP77sFAz6tobGpF3YNHsHnfIdQ1NKG+fi9++flqiVCSVXw9NocfJhdxZVrCT3+58IddwYe9veg6uAfnPjqBVzpa8dD9jXizrw87H+vBXfvb0NB+BlsfaccdO5pxZXyyROgNRDB88TdMWGdw+eoMrs3b4VfiOH6sA3daLGjeWo/HHz6A7XdvQXdXN+490I5Nuw9jW0sX6up3Y+OmB3D50qUSoRxW8CuRTU7PYWziOpFehycQQl9bG/Zu3ICnG7ehZf8uNO/Ziddf7saWHQdhua8NG7Y3wWLZTGjA6OhYiTBM0VybW8LkrB02hwc3bE44vTLODZ3Fu0efw1svdGBw4A28PziAby6cR+dr76D1WB9an38Rh4904tnWLkzPzJUIV6nkTqcEn9uBgPsm9FRC6ErTNLh9Pvh9EmJRv6g2j1BQpup7EKe15IpSrkmDME9acrnc8HudiPgW6eUg6S6LeDwOp4Py6bqJgMuGkOwj5+jw+wOQHEsI+ezwuRahxmJVhBRhjBZD4QiJNU6RpZDLZoXtwuEw5GAIATmEYNCwH9vQ4XBiwbaIhQUblpeXKwnX8rHpV2GrMnsV18BreWPPcEmll8v9We3pEsmthyDMUf5uBZOMcbtz9NQsXElGMpmsgaYlqTDL8Hq9kCQJqqque5YbCO2VCBk6VTCdSpfmekaQGO1rVvRFLkrxHSJJF+YVhDwRuqPWlKE2lS8kOZ0yojQHy4vbmbg+Fy2XRSKuFhsxRVoiZNhdJOxAQJDyPOBzw+txicMcmUwilxwOERWvKdEwHP/YhMx4v0jImysrK0Jf3KF5nqDmytqMRhWYZ8KRiPigGYSh3bDIYQUhb4prGvKiDp4tVo7BczMVNfNClWuubHQdGctUVc4RR7hWNddDTVHYtw7KodfnLea0XAG3Qw0hh8ykZj7+C1kNoaE5XeSFweT/m5BfXgv8AfMjXASGXpCLuVcNItUs620ymITbl9VqxdTUlJCUSVwN/jA9DUKelBnciIhcYEqE88o6ZZeUnylvDlmjf5Yi5BH0u0UzMEc4FkZMjRXn/HcRiRX2Sa9Jsqo34IXx91FFyC5xUUcJyrJIcIRcIbkk0Wk4QnaFJLngdntEEbhLs2vcHnexaRSvrBcMbxSg0iHZTLY4z+UMh5i9kddMx5gR/guh6tUWhKAEGgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"feature\"\n        title=\"\"\n        src=\"/traverse/static/ba61e8300ffab8042366e060195d94ba/37523/feature.png\"\n        srcset=\"/traverse/static/ba61e8300ffab8042366e060195d94ba/e9ff0/feature.png 180w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/f21e7/feature.png 360w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/37523/feature.png 720w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/302a4/feature.png 1080w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/07a9c/feature.png 1440w,\n/traverse/static/ba61e8300ffab8042366e060195d94ba/8ad1b/feature.png 2320w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR42m2S227aQBCGeZtKzWUve928TWwTJQYfA6SFYAjquyEhEAIkjFx8xIqNMSbh785GttLQlT6NZ9fzz2G3pmkaPqIyRNmAcG9CkE1IDQbzxXsddfZdcstQ1X9jidpHIVNXcKf9wo9nF9e/Q1yPPHx/8vBF+8NwcGV6uHpw8fXBx7eWjVv9icWol4K6rqPT6UBuyBgOh7CdLeIkxesZKN7OKJjNX4ETGOcz3phN8xyj0QgN+Q7tdhuGYbwLqqrKHRIVRAGPPx8RhQEOhz12UYAo8BCHPl7iEHmWIj+kOB0z7PcJut0uJFHksZVgWaFpmlCaCqy+Bdd1kaYpdrsdttstoihClmV8L45jFEWBnFVoWRaazWZV0H9bHgwGXISCyU6nUyyXS56EfMLzPJ6E/lUUpRKrBHkGQ8eNcMOFTyeaFmDbNsbjMVarFdbrNYIgwPF45OdJklQVXgiWM6DDXq/HW6LlOA4mkwlmsxnm8zkWiwVPQlWGYcgrvBAkpxSkC6JBlwFlm9Si7/vcpyRkN5sN+v0+b7mcIVEj5zP0DAhqv9VqQZIk1Ov1ao8on8pn/gJld0m4nXwTuAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"feature detail\"\n        title=\"\"\n        src=\"/traverse/static/d01509982dce6f286a7a8f6d7c824370/37523/feature_detail.png\"\n        srcset=\"/traverse/static/d01509982dce6f286a7a8f6d7c824370/e9ff0/feature_detail.png 180w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/f21e7/feature_detail.png 360w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/37523/feature_detail.png 720w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/302a4/feature_detail.png 1080w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/07a9c/feature_detail.png 1440w,\n/traverse/static/d01509982dce6f286a7a8f6d7c824370/34e83/feature_detail.png 2852w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>如果把整個用卡權益頁做成靜態的，這樣會變成開發的維護成本高，所以需要在開發的維護性和產品運營能力中取得平衡。</p>\n<p>要實現靜態內容網站可能會先想到後台直出，但如開頭說的這是一個沒使用後台的項目，用在這個地方也有殺雞焉用牛刀的感覺，不在考慮方案內。</p>\n<p>如 Vue SSR 介紹</p>\n<blockquote>\n<p>如果你調研服務器端渲染 (SSR) 只是用來改善少數營銷頁面（例如 /, /about, /contact 等）的 SEO，那麼你可能需要預渲染。無需使用 web 服務器實時動態編譯 HTML，而是使用預渲染方式，在構建時 (build time) 簡單地生成針對特定路由的靜態 HTML 文件。優點是設置預渲染更簡單，並可以將你的前端作為一個完全靜態的站點。</p>\n</blockquote>\n<p><a href=\"https://ssr.vuejs.org/zh/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93-vs-%E9%A2%84%E6%B8%B2%E6%9F%93-ssr-vs-prerendering\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">服務器端渲染-vs-預渲染-ssr-vs-prerendering</a></p>\n<p>像 React 和 Vue 這些 Web 框架為了解決 SPA 這類的問題，開發社群已提供預渲染的插件，但是預渲染通常只輸出一個頁面的初始狀態，而且需基於 Webpack 開發構建。</p>\n<p>這個項目不使用 Webpack 開發，預期不只是預渲染一個頁面的初始狀態，而是一個頁面所有可能性操作狀態，這樣才能全面覆蓋所有靜態內容。</p>\n<h2 id=\"vtools-數據管理平台\" style=\"position:relative;\"><a href=\"#vtools-%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0\" aria-label=\"vtools 數據管理平台 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vTools 數據管理平台</h2>\n<p>借助於另外一個公司內部配置系統 vTools 數據工具管理平台，提供更好的解決方案，相較 Qzone 配置系統提供更彈性的配置能力，把數據源和返回內容格式拆分。</p>\n<p>除了支持基本數據類型，如單行輸入框、多行輸入框、下拉列表、圖片、日期、富文本輸入框…等。</p>\n<p>如果字段需要一個 Array 數據，可以使用自定義數據體或引用字段，自定義數據體是在現有的數據源上嵌套一層 Array 數據，只支持單行輸入框和下拉列表，所以不能嵌套兩層以上的數據；而引用字段是引用另外一個數據源，這使用上就彈性很多。</p>\n<p>使用引用字段類型，前提是兩個數據源有強烈的父子關係，否則只需要在返回的檔案模版中處理即可，模版中的數據源管理支持引用多個數據源。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAUlEQVR42p1SW26DMBDk/sdpz9FeoOIpK0QYMMI2bzNlrDhK8tOGEfPBapmdnSWSqsc1zdG1DYy1mKYJ8zzfuSwLrDEQtYIsBCZrMB+1xx7yoi5QSiGSUiJNUy82DAO2bYNzDvu+exL8IM9S5HmOum78EMLtDjhalm3B588Hmq5BxOa2bWEPQXM4IVkjgiAF2EMH67o+Dzye1a34vn5BW42IRa01sixDHMcoy/IuGMB3Ov8LHBRxelVVfvo4jp6veEuQR2COXNnecmSNPCXIlZlbURRIksSv3HXd09pvC/Z9DyGEJy9Jx6cdMkM6DL9CuOzpDJlbOET4FR5J0O1/BX8Bp/8OUxgIftcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"global template config\"\n        title=\"\"\n        src=\"/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/37523/globalCfg_tmpl.png\"\n        srcset=\"/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/e9ff0/globalCfg_tmpl.png 180w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/f21e7/globalCfg_tmpl.png 360w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/37523/globalCfg_tmpl.png 720w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/302a4/globalCfg_tmpl.png 1080w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/07a9c/globalCfg_tmpl.png 1440w,\n/traverse/static/b5458ddc09fcf9f932bfb4b1b681987b/c6720/globalCfg_tmpl.png 1922w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>返回的檔案內容結合 Smarty 模版語法，可以自行構造想要的內容格式，除了像 Qzone 配置系統的檔案格式外，也可以構造成 JSON 格式或 HTML 程式碼片段等。</p>\n<p>Smarty 語法可以對數據進行更進一步的處理，如判斷、字串處理…等多樣的操作語法</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token comment\">// Loop</span>\n<span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span><span class=\"token comment\">#foreach from=$data item=\"row_item\"#} OR {#foreach $row as $row_item#}</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token comment\">#if $row_item@last!=true#},{#/if#}</span>\n  <span class=\"token punctuation\">{</span><span class=\"token comment\">#/foreach#}</span>\n<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#/foreach#}</span>\n\n<span class=\"token comment\">// 條件</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#if $coupon.show != 'false'#}</span>\n<span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#/if#}</span>\n\n<span class=\"token comment\">// 預設值</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token string double-quoted-string\">\"route\"</span><span class=\"token punctuation\">:</span> <span class=\"token string double-quoted-string\">\"{#<span class=\"token interpolation\"><span class=\"token variable\">$offline</span></span>.route|default:'[]'#}\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 字串替換 &amp; 串行操作</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">#$item.rules.featureRules[0].content|replace:'\\n':''|replace:'\\\"':'\"'|replace:'\\/':'/'|strip#}</span></code></pre></div>\n<p><a href=\"https://www.smarty.net/documentation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Smarty 官方說明文件</a></p>\n<p>有這樣的配置系統就可以把數據先構建，輸出成靜態檔案，最後問題就剩下如何引入</p>\n<h3 id=\"ssi-服務端引入\" style=\"position:relative;\"><a href=\"#ssi-%E6%9C%8D%E5%8B%99%E7%AB%AF%E5%BC%95%E5%85%A5\" aria-label=\"ssi 服務端引入 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSI 服務端引入</h3>\n<p>SSI (Server-Side Include) 是一個伺服器提供的通用功能，在檔案中訪問時可插入一段程式碼檔案，像是 HTML 或 JS 檔案透過 SSI 就可以把 pre-render 的靜態檔案引入到頁面中。</p>\n<p>因為 SSI 的特性可以把 Vue 的事件修飾符寫在模版中，透過 loop 把原本在 JS 動態生成的內容 pre-render 成靜態的 HTML 程式碼片段並做事件綁定。</p>\n<div class=\"gatsby-code-title\">index.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>site-header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>site-header</span><span class=\"token punctuation\">></span></span>\n\n      ...\n\n      <span class=\"token comment\">&lt;!--#include virtual=\"./inc/feature.html\" --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-code-title\">feature.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">{#foreach from=$feature item=\"rowItem\"#}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>feature feature-{#$rowItem.type#}{#if $rowItem.type == 'video' || $rowItem.type == 'shopping'#} feature-bggray{#/if#}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row row--list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach $rowItem.list.items as $item#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-12 col-sm-12 col-md-8 col-lg-6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-toggle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>showRuleModal('{#$item.id#}')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token comment\">&lt;!-- 權益方框 --></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    {#foreach $rowItem.list.items as $item#}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal fade feature-modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{#$item.id#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-dialog modal-dialog-centered<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>document<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token comment\">&lt;!-- 權益細節彈窗 --></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    {#/foreach#}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n{#/foreach#}</code></pre></div>\n<p>總結以上敘述</p>\n<ol>\n<li>使用像 vTools 數據管理平台的配置系統，把數據源和返回檔案格式拆分，結合 Smarty 語法自行構建檔案模版。</li>\n<li>使用 SSI 服務器的功能，在不使用 Webpack pre-render 的插件，也可以插入程式碼片段到頁面中，同時綁定 JS 事件。</li>\n</ol>\n<p>補足靜態內容的缺失和其他 SEO 優化點，現在透過搜尋引擎都可以找到微加卡的官網</p>\n<p><a href=\"https://www.baidu.com/s?wd=%E9%A8%B0%E8%A8%8A%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1&#x26;rsv_spt=1&#x26;rsv_iqid=0x9f4d8c31000853fe&#x26;issp=1&#x26;f=8&#x26;rsv_bp=1&#x26;rsv_idx=2&#x26;ie=utf-8&#x26;rqlang=cn&#x26;tn=baiduhome_pg&#x26;rsv_enter=1&#x26;rsv_dl=tb&#x26;oq=%25E8%2585%25BE%25E8%25AE%25AF%25E5%25BE%25AE%25E5%258A%25A0%25E4%25BF%25A1%25E7%2594%25A8%25E5%258D%25A1%25205%25E5%2580%258D%25E7%25A7%25AF%25E5%2588%2586&#x26;rsv_t=e6b1Rn9vaOCLDFUFOj7Zfp9hS33kh9NB7xmlicI9uVNmGXSeMZ7zyhs%2FohfELKRtKJVR&#x26;inputT=723&#x26;rsv_pq=80869d82000ad733&#x26;rsv_sug3=34&#x26;rsv_sug1=15&#x26;rsv_sug7=100&#x26;rsv_sug2=0&#x26;rsv_sug4=4939&#x26;rsv_sug=2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡_百度搜索</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC6klEQVR42pWU246jRhRF/dH5iPxLlJdEipREylNrovG0720MNthgMBjM1dhcjM2ag7un05nuh6Skw6mipF17n1sv+XvI4x8W5WyCubVQ1QWO49Ct2+32L2vb9tVfmoZbU/Hz4MoPP8GPv8PlCr26KLjUFcXpzMZyiKKYNEmI4pgsTUnEJ3LOsoxY9vHLufNRFJEcC8KsJj7WVHVNr71zaWnk5TAvORYV56KkLAua5kJ33zH63jqm3SO1kOEFo/vfk+/zUQCqxz7l6JFU0xmPU1z7KDqqO/hVwDsG5/NZQIRNJapk3wrw29X7trmUFeZIwZobaNMVw9kaY66hD6cMJiozxSBYyz9Nw3J2ZHlOdjzemX4IWJUlirllYTrsHImVK4w9n9POJ/XPZJ6wrQtakdjW5Z051wsIe96A/iN5t6X68zeah784fBkzeXBY9G3xW5TPNpm7p4oPnHyP4uBTR7Lfe9ySEI7JSxjfxLDe71hOHlkupozVGZPlE8pKRTc3LKSUfFUlXq0w1xuWxppEEpJKDG8STymF94BNuCee94m1AZHxhLM0SLYue8XCnhhyHwkTsVzY5Clk8bOPAjjnr5nu8YxHIzEMBmOiyQxfWzMdeSgzl5WWsFRTwkNOWRUUmSRC2N2EXVl02W8+TkrdXJlZG5SdSVrkpFkgpZFzuZwpykRKJ7/LzIKAJvBppOiPeXd/+RiwFcDY0kl3OrHtY9s5uSQ2jlvpmpb81PJf1itgKXVoPKnYispGtdHUhIUSokx8tIc15tAk2O/xvD273Y7A9/HF3tXht3dj6exflCX9zYZf7VAYmmjGFF2fYWoTnLVKIHJdAfM8725hGN7b7UPAUgA/z110zUTf2Jwsi7Vn44RHGRohXnD6f5Kb+iqZPbAZrQiGX9h/esB9XGL0TeYDm8Ung0zfkNr2XbLnuvfh8I7hawxlto2tEbqrows70zSJpStOnnMv+kq6I/b3BC9yuxHWSMl8D/gVS/QLWoiLcFsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"騰訊微加信用卡_百度搜索\"\n        title=\"\"\n        src=\"/traverse/static/ace3a7e82b502fdb9f15a75329907590/37523/baidu_search.png\"\n        srcset=\"/traverse/static/ace3a7e82b502fdb9f15a75329907590/e9ff0/baidu_search.png 180w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/f21e7/baidu_search.png 360w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/37523/baidu_search.png 720w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/302a4/baidu_search.png 1080w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/07a9c/baidu_search.png 1440w,\n/traverse/static/ace3a7e82b502fdb9f15a75329907590/ae28e/baidu_search.png 1598w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><a href=\"https://www.sogou.com/web?query=%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1&#x26;from=index-nologin&#x26;s_from=index&#x26;oq=%E9%A8%B0%E8%A8%8A%E5%BE%AE%E5%8A%A0&#x26;ri=0&#x26;suguuid=8d7d37be-42e0-41ed-b2ac-42ceaea60583&#x26;stj=0%3B0%3B0%3B0&#x26;stj2=0&#x26;stj0=0&#x26;stj1=0&#x26;hp=0&#x26;hp1=&#x26;suglabid=suglabId_1&#x26;sut=5061&#x26;sst0=1567531484514&#x26;lkt=0%2C0%2C0&#x26;sugsuv=1567531401947575&#x26;sugtime=1567531484514&#x26;page=1&#x26;ie=utf8&#x26;p=40040100&#x26;dp=1&#x26;w=01015002&#x26;dr=1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">騰訊微加信用卡 - 搜狗搜索</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAADJUlEQVR42n2Uv47jVBTG0/IASFS8AQVPQENFSw0VoqKAEmiR6Oi3QUhIUNNusRoNEqNlo9kks0mcOI5jO4nj2I7tOPF/+8dxJtkd0CxHOvI91r3f/c757jmdZDnBMJdsHAdN11G1OUEYAA1VXVGLN03rjXgt/85eVZRlied5aJpGmqa01mkP1LK5Oh4pNR2WJuE6RlUTTCNl+OqAOj0wUUKMRUwtB2vZW8g3z/MTaFEUcnF9urTTyKI1bTbly88+5ZOPP+L7775loVuMhgpTZcZ4NBFAlfncwFvo7GYqhjpjYRgnkIfWqc+A/f4tH37wPu+9+w5ff/U51m6Bbs8wXR03somyHXEachB2p4zOaf/XOpdFLhttZYo/nxHYLuG+JgjuPQxrjknDZluRpTX/Zx3OlCupyc1vT7j5/QlbUwRSd0zHLqM7m8FLk2lP4/Z6iqEtcd0ty+USyzS5ZPga8FKDrMj5+ccv+OmHb5gYC0azO+7UPqo5ZaqP8Vcaub8SVTfYAui4LrsgeDvD1HNZXP3B019/4fbZNVtLwZoP2FkanjXDW+vEvk0aOWSBI+AuHPdwiB8HrIVVcnVN2XuJPRij/j1l3lXRulO0F2MWN69wFJ3teo1rb4h2O6KWYeDBA6Vfpxw7FkO1x9iYMDQVlKXC3NYxXEse7oREgBLJwg92bDYb9nF8UprQF8D6EYabFdlsQiEP++h4onQo6fpE25jj2qFYLSkE9LiNqMqaS0MQ+P9meAkyc4F59Qz9rz/pvejS6/YZDxSGgxGjXp95v4cxHDKfaGhzneVqxSFJ3s4wc1einM7Gt7C3Oo63YL93CHYreSYWgSsskwPFMSbbh9KqIkaRge88zrAQtVaKIgpKoZOU5iAdsT9QhgeqqPU9dbynCPeUUSz/JY5COZdIL8v5vEGq8KZT0rTi+fMd3e6Ru0HKdttOkkoEKaRnC9Z2KYxrdL2Q6VSwWpfEcY1lSaznLOYZUVS9AazKBt+t2TolvtdOkHNdmrOf183D+NHWu+yVwuZ5evK6bm+PJfP7EZXnGVl27218WSciShu3e9sx1g6LfwCxaP+eSb7VJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"騰訊微加信用卡 - 搜狗搜索\"\n        title=\"\"\n        src=\"/traverse/static/5faf73651002bf3e87189768d4afd7ce/37523/sogou_search.png\"\n        srcset=\"/traverse/static/5faf73651002bf3e87189768d4afd7ce/e9ff0/sogou_search.png 180w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/f21e7/sogou_search.png 360w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/37523/sogou_search.png 720w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/302a4/sogou_search.png 1080w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/07a9c/sogou_search.png 1440w,\n/traverse/static/5faf73651002bf3e87189768d4afd7ce/81315/sogou_search.png 1656w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"合併請求\" style=\"position:relative;\"><a href=\"#%E5%90%88%E4%BD%B5%E8%AB%8B%E6%B1%82\" aria-label=\"合併請求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>合併請求</h3>\n<p>Qzone 配置系統還有另外一個問題是限制配置檔案大小，當如果一個配置內容過多時必須拆分成多個檔案，如 <a href=\"https://wepluscard.qq.com/mdft/qa.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">幫助中心 - 騰訊微加信用卡官網</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAQAF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcZFCpP/xAAXEAADAQAAAAAAAAAAAAAAAAAAAUEQ/9oACAEBAAEFAiPIz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABsQAAEFAQEAAAAAAAAAAAAAAAABESFBcRBR/9oACAEBAAE/IRUlpBm85bSmH//aAAwDAQACAAMAAAAQj/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQMBAT8QiP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQXH/2gAIAQEAAT8QDI6zyEo21QtmG5LC0w57GbXzn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Qzone 常見問題配置\"\n        title=\"\"\n        src=\"/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/80e3c/qzone_faq.jpg\"\n        srcset=\"/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/4ec73/qzone_faq.jpg 180w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/158ba/qzone_faq.jpg 360w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/80e3c/qzone_faq.jpg 720w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/47311/qzone_faq.jpg 1080w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/644c5/qzone_faq.jpg 1440w,\n/traverse/static/cea7b4a24b9eaeb32da30ba0c00e8c80/b18c4/qzone_faq.jpg 2186w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>這會造成過多的網路請求，如果我們用上面的方法，一樣可以把常見問題的數據透過模版 pre-render 生成單一 HTML 檔案程式碼片段</p>\n<div class=\"gatsby-code-title\">help.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>site-header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>site-header</span><span class=\"token punctuation\">></span></span>\n\n      ...\n\n      <span class=\"token comment\">&lt;!--#include virtual=\"./inc/faq.html\" --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-code-title\">faq.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-24 col-sm-7 col-md-4 qa-list-row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach from=$qa item=\"item\"#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current == '{#$item.name#}' ? 'active' : ''<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>activeCateg('{#$item.name#}')<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token comment\">&lt;!-- 分類側標題 --></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>col col-24 col-sm-17 col-md-20<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        {#foreach from=$qa item=\"item\"#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accordion<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qa{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current == '{#$item.name#}'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            {#foreach from=$item.qlist.question item=\"q\" key=\"index\"#}\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                        <span class=\"token comment\">&lt;!-- 問題標題 --></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{#$item.name#}{#$index+1#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-parent</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#qa{#$item.name#}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>collapse<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n                            {#$q.ans|replace:'\\n':''|replace:'\\\"':'\"'|replace:'\\/':'/'|strip#}\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            {#/foreach#}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        {#/foreach#}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"微加信用卡移動端\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E5%8A%A0%E4%BF%A1%E7%94%A8%E5%8D%A1%E7%A7%BB%E5%8B%95%E7%AB%AF\" aria-label=\"微加信用卡移動端 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微加信用卡移動端</h2>\n<h3 id=\"減少請求\" style=\"position:relative;\"><a href=\"#%E6%B8%9B%E5%B0%91%E8%AB%8B%E6%B1%82\" aria-label=\"減少請求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>減少請求</h3>\n<p>SSI 還可以用來優化頁面載入</p>\n<p>假設可以自定義返回的檔案格式就能更彈性的配置，像是 JSON 格式或 HTML 程式碼片段，再透過服務器的 SSI 能力嵌入 UI 模塊中，如全局配置 (錯誤碼轉義、灰度路由和下線路由)</p>\n<p>透過測速監測，一個全局配置大概在 150ms 左右的請求耗時</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42n1Ru07EQAxMD8om+/I+spwQgoKG7rqr+f8vGsZO7nSgE8Vo7bE968eUx4bw+QE5DZSXAS8CHwJab8i0V+/t7Vs328cIKQUxJdTWILUirivS+Qv5+4Kpv7+hXs6IrydEikcWLkxwy2JQ++Zf7XvuyHHzDPf0jCnxx+QWpJiQ04GcH6KxsyrlYUyOaaZAQR1Dx/wPmtezoGX5zROZsRCidTqJqhOFiVuphkrbONm5zs6Mp9/YYVcoL+UWH3y9dthMpFmCmBAPYH5jceUK8s6xOMZ9HRrTEQ2MJRu57ILuWPJ10YqZi9YRWu+87mbXLMQ2hgneH+svfgBJs69hycBaMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"全域配置測速\"\n        title=\"\"\n        src=\"/traverse/static/909807b7b83c86812a1c43f611e12ad8/37523/globalCfg_speed_test.png\"\n        srcset=\"/traverse/static/909807b7b83c86812a1c43f611e12ad8/e9ff0/globalCfg_speed_test.png 180w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/f21e7/globalCfg_speed_test.png 360w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/37523/globalCfg_speed_test.png 720w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/302a4/globalCfg_speed_test.png 1080w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/07a9c/globalCfg_speed_test.png 1440w,\n/traverse/static/909807b7b83c86812a1c43f611e12ad8/8dcca/globalCfg_speed_test.png 2888w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"數據上下架\" style=\"position:relative;\"><a href=\"#%E6%95%B8%E6%93%9A%E4%B8%8A%E4%B8%8B%E6%9E%B6\" aria-label=\"數據上下架 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>數據上下架</h3>\n<p>大部分配置系統，數據上下架是直接刪除某筆數據，但是產品/運營需要額外維護一套所有的數據，因為數據刪除了就無法復原。</p>\n<p>在數據源的地方增加一個上下架開關的欄位，並在 Smarty 模版中判斷數據是否下架，這樣不但前端不用做修改，還可以讓數據保留在配置系統中，便可以維護下架的數據。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"coupons\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>#foreach from=$wecard_coupon item=<span class=\"token string\">\"coupon\"</span>#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#if $coupon.show != '<span class=\"token boolean\">false</span>'#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"couponId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{#$coupon.couponId#}\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{#$coupon.name#}\"</span><span class=\"token punctuation\">,</span>\n            ...\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>#if $coupon@last!=<span class=\"token boolean\">true</span>#<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>#/if#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#/if#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">{</span>#/foreach#<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"批量發佈\" style=\"position:relative;\"><a href=\"#%E6%89%B9%E9%87%8F%E7%99%BC%E4%BD%88\" aria-label=\"批量發佈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>批量發佈</h3>\n<p>另外一個場景微信移動端的優惠專區，有列表和詳情兩個頁面。</p>\n<p>可以透過外部的連結直接進入某一個優惠詳情頁，所以頁面承載各種優惠詳情。如果詳情只是一個配置檔案，當優惠券數量多的時候，那詳情的檔案大小會非常可觀。</p>\n<p>這時候，使用 vTools 數據管理平台的逐條發佈功能，就可以把每一個優惠詳情拆分成獨立一個配置檔案發佈出去，做到瀏覽某一個優惠詳情的時候只讀取該優惠券的配置信息。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVR42q1T2Y7aQBD0//9JfiBv+74SIgJZLIS1sVkM+Fzb4GN8QKVrYCJr85gdqdXTc9RMV1dbQRDAdg6YvYdY+BmWboS3jwwLL8XcTeAGKVTbohVTSmlv5lPjWtM0sMpawUsbjLcbKtWjFVPdgG4Y0fUj7rc7brI3jgOGYXjOR1yvV5Rlqf3lctGgfd/DSrMMafaJssiR5zk+sxQ7z8d89Ru/tu/48fMF87mNOIkRp5kGSZIE5/MZYRhqfzqd9BrvW0RVqv37AtOr6gaRPBLlGWYLG74XoOs6sV57k6aZbzYbzGYzuK4Li4sEMpsmHsRGSZFjkBQfgP8a7zDlqqoeKZNMBiTUvFzXtWx2QvST8OZBOAFMUaZGbo1ZBoCeZPMAeTpEBVopiuftcfg44CqPKolZHIKbD/D88XiUc5721v1+12nRT+e9VJkRX2XqZn9q5qzjOLBt+8HhdGM6pvFXgGlMGfF32+0W+/3+/wFJk+/7WK/X2O123/fD1WoFdt23AfKHuij8stbds63oW8pHJFKLbHKpbtU2WtTjs+36iUx4lx3DtOktlr8oCt2TlAB9FMcimxBOcMLrm3AT+CjyEnWjRC61lhXFbPqZBVkulzrtP/LtN9/GzNFuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"逐條發佈\"\n        title=\"\"\n        src=\"/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/37523/wecard_detail_2.png\"\n        srcset=\"/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/e9ff0/wecard_detail_2.png 180w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/f21e7/wecard_detail_2.png 360w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/37523/wecard_detail_2.png 720w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/302a4/wecard_detail_2.png 1080w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/07a9c/wecard_detail_2.png 1440w,\n/traverse/static/7b3c85e6210288a45aaaed7c91b476d8/3a4f1/wecard_detail_2.png 2588w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>勾選使用詳情發佈之後，透過選取單一數據進行發佈</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByklEQVR42qVTbXKbMBTk/ifIBfqrV8j0T8dxWjdNYpO4dloEyHzUCGwwGIOBrZ5sMbRpZpr0DYseT2i1WknG1egjJpOJAmMM6/UaYRi+CkEQII5jjEYjGNE6RFmWqOsKbdviLdF1nWpd7sJYeZ5i1x0aRH48Hn+rNU2j6sOa/lcROg4MkpxlmRpMHRp1XUMI0ZMQaCVVVfXkFEEeYJksVG5bP+SSowh5niuC4Yx/Kuwn604KqaWI9hHYlp0UunLJ9EqS5K++aBX/6iHnHEbg+1LhDq0cPFRDisnb3re2Q3pIYQrzGZn2UBHSknd5gUL6c6hq5ZEmIVK9CZBPVmVYnP16USFffgO7+4qnmwmc+QMsy8K+KNQPTX+MOj1ySPMC4d0NhMMg/BXq0EMiIqWwqhuU1fG5miHRGU17qjm0KZzZuF9yCRfjB4bPboKxLXDFInxyY1w7BKFyVZPfX/gGt36KudhjEZ/Adg0Wlg3Dj2LMowLmzwzTYIt7L8EtFzBlPvM3qn0MU5VPJSinGuFJ5GCbPdz0gKDssLQYjOEteWt05zPp0E3RZ/B/CMlJZ9tgPP0OYzabqd2xbVvNQPlr4a043n0wcfH+Er8Angp/MLUgbHQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Batch publish\"\n        title=\"\"\n        src=\"/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/37523/batch_publish.png\"\n        srcset=\"/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/e9ff0/batch_publish.png 180w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/f21e7/batch_publish.png 360w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/37523/batch_publish.png 720w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/302a4/batch_publish.png 1080w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/07a9c/batch_publish.png 1440w,\n/traverse/static/0bfc4e8a59451a6a6e8aba7686a2d3a2/8adb9/batch_publish.png 1638w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>","frontmatter":{"title":"產品官網背後的數據管理","date":"December 10, 2021","description":"官網 SEO 搜索引擎優化，數據靜態化管理","tags":["SEO","front-end"],"donation":false}},"previous":{"fields":{"slug":"/develop-super-easy-chatbot-release-online/"},"frontmatter":{"title":"開發超簡單聊天機器人發布線上"}},"next":{"fields":{"slug":"/css-class-naming-mothodology/"},"frontmatter":{"title":"CSS Class 命名方法論"}}},"pageContext":{"id":"44a8328d-b30b-5960-989b-99b2e0c3b567","previousPostId":"77ea4751-68da-5855-840e-03e92336a2ec","nextPostId":"b84b37ac-0665-5d35-8f8e-b5807cf6214d"}},"staticQueryHashes":["1824009237","2841359383"],"slicesMap":{}}