{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/image-optimization/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Traverse"}},"markdownRemark":{"id":"755e2a20-77e7-56cf-ae00-7e6f2e6403dc","excerpt":"網頁優化/最佳化，圖片壓縮是不可忽視的一塊。\n透過 PageSpeed Insights 分析可以為你的網頁打分數。 圖片壓縮程式 根據 Google PageSpeed Insights 建議對於 JPEG 檔案壓縮可以使用 jpegtran 或 jpegoptim (與 —strip-all…","html":"<p>網頁優化/最佳化，圖片壓縮是不可忽視的一塊。<br>\n透過 <a href=\"https://developers.google.com/speed/pagespeed/insights/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PageSpeed Insights</a> 分析可以為你的網頁打分數。<br></p>\n<!-- more -->\n<h2 id=\"圖片壓縮程式\" style=\"position:relative;\"><a href=\"#%E5%9C%96%E7%89%87%E5%A3%93%E7%B8%AE%E7%A8%8B%E5%BC%8F\" aria-label=\"圖片壓縮程式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>圖片壓縮程式</h2>\n<p>根據 Google PageSpeed Insights 建議對於 JPEG 檔案壓縮可以使用 <a href=\"http://jpegclub.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jpegtran</a> 或 <a href=\"http://freshmeat.net/projects/jpegoptim/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jpegoptim</a> (與 —strip-all 選項一併執行)；對於 PNG 檔案壓縮可以使用 <a href=\"http://optipng.sourceforge.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OptiPNG</a> 或 <a href=\"http://www.advsys.net/ken/util/pngout.htm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PNGOUT</a>。</p>\n<p>透過 Homebrew 就可以安裝 jpegoptim 和 OptiPNG，如下</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> jpegoptim\nbrew <span class=\"token function\">install</span> optipng</code></pre></div>\n<h3 id=\"jpegoptim-常用參數\" style=\"position:relative;\"><a href=\"#jpegoptim-%E5%B8%B8%E7%94%A8%E5%8F%83%E6%95%B8\" aria-label=\"jpegoptim 常用參數 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jpegoptim 常用參數</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">-m<span class=\"token punctuation\">[</span>quality<span class=\"token punctuation\">]</span>, --max<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>quality<span class=\"token punctuation\">]</span>\n  設定最大的圖片品質因數 <span class=\"token punctuation\">(</span>禁止無損最佳化模式，預設是開啟的<span class=\"token punctuation\">)</span>\n  有效值: <span class=\"token number\">0</span> - <span class=\"token number\">100</span>\n  e.g. jpegoptim -m50 sample.jpg - 用50%質量壓縮圖片\n\n-d<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span>, --dest<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span>\n  指定最佳化檔案的目標路徑 <span class=\"token punctuation\">(</span>預設是覆寫原始檔案<span class=\"token punctuation\">)</span>\n  e.g. jpegoptim -d ./output sample.jpg - 壓縮圖片將匯出到 output 目錄下 <span class=\"token punctuation\">(</span>資料夾必須先建立<span class=\"token punctuation\">)</span>\n\n-o, --overwrite\n  覆寫目標檔案即使它存在 <span class=\"token punctuation\">(</span>當使用 -d 選項<span class=\"token punctuation\">)</span>\n\n-p, --preserve\n  保存檔案修改時間\n\n-n, --noaction\n  沒有真正壓縮圖片，只印出壓縮結果\n\n--strip-all\n  去除匯出圖片的所有標記\n\n--strip-com\n  去除匯出圖片的註解\n\n--strip-exif\n  去除匯出圖片的Exif</code></pre></div>\n<p>jpegoptim 其他參數使用可以參考 <code class=\"language-text\">jpegoptim -h</code></p>\n<h3 id=\"optipng-常用參數\" style=\"position:relative;\"><a href=\"#optipng-%E5%B8%B8%E7%94%A8%E5%8F%83%E6%95%B8\" aria-label=\"optipng 常用參數 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OptiPNG 常用參數</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">-backup, -keep\n  保留一個修改檔案的備份\n\n-clobber\n  覆寫存在檔案\n\n-preserve\n  如果可以保留檔案的屬性\n\n-out <span class=\"token punctuation\">[</span>filename<span class=\"token punctuation\">]</span>\n  匯出的檔案名稱\n\n-dir <span class=\"token punctuation\">[</span>directory<span class=\"token punctuation\">]</span>\n  匯出檔案的目錄 <span class=\"token punctuation\">(</span>資料夾可以不用先建立<span class=\"token punctuation\">)</span>\n\n-strip <span class=\"token operator\">&lt;</span>objects<span class=\"token operator\">></span>\n  去除 metadata 物件 <span class=\"token punctuation\">(</span>例如 <span class=\"token string\">\"all\"</span><span class=\"token punctuation\">)</span>\n\n-o0, -o1 <span class=\"token punctuation\">..</span>. -o7\n  圖片壓縮等級 <span class=\"token punctuation\">(</span>數字越大越慢<span class=\"token punctuation\">)</span></code></pre></div>\n<p>optipng 其他參數使用可以參考 <code class=\"language-text\">optipng -h</code></p>\n<h2 id=\"批量執行\" style=\"position:relative;\"><a href=\"#%E6%89%B9%E9%87%8F%E5%9F%B7%E8%A1%8C\" aria-label=\"批量執行 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>批量執行</h2>\n<p>先到執行專案目錄下，使用下方組合技</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -name <span class=\"token string\">\"*.jpg\"</span> -exec jpegoptim -o -p --strip-all <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -name <span class=\"token string\">\"*.png\"</span> -exec optipng -clobber -preserve -strip all <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"參考資料\" style=\"position:relative;\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-label=\"參考資料 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資料</h2>\n<p><a href=\"https://developers.google.com/speed/docs/insights/OptimizeImages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PageSpeed Insights - 最佳化圖片</a></p>","frontmatter":{"title":"圖片最佳化","date":"December 12, 2015","description":"jpg, png等圖片格式壓縮最佳化","tags":["front-end","homebrew"],"donation":false}},"previous":{"fields":{"slug":"/mac-using-homebrew-install-mariadb/"},"frontmatter":{"title":"Mac 用 Homebrew 安裝 MariaDB"}},"next":{"fields":{"slug":"/flexbox/"},"frontmatter":{"title":"Flexbox 使用指南"}}},"pageContext":{"id":"755e2a20-77e7-56cf-ae00-7e6f2e6403dc","previousPostId":"7062f5b0-0302-5860-98b7-84162f2ad67f","nextPostId":"58dcea84-bf32-566c-98a7-e4b82e31d8fd"}},
    "staticQueryHashes": ["2841359383"]}